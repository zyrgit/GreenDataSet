
<html>
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- <title>start</title> -->
<title>test</title>
<!-- <title>end</title> -->
<script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?sensor=false"> </script>
<script type="text/javascript">

var map = null;
var pathList = [];
var path_markerList = [];
var coordinates,paths;
var pathCnt=0;
var dashboard_icons=[];
var color_list=[ // css style.
'#7CFC00',// lawn green
'#0000FF',// dark blue
'#A52A2A',// dark brown
'#DC143C',//dark red
'#8A2BE2',//purple
'#7FFFD4',// blue green
'#FF1493',//pink
'#00FFFF',// light blue
'#FA8072',// salmon pink
'#6B8E23',//gray green
'#D2691E',//chocolate
'#EE82EE',//light pink
'#DAA520',//dark yellow
'#7FFF00',// light green
'#5F9EA0',//gray blue
'#006400',//dark green
'#BDB76B',//khaki
'#6A5ACD',// purple blue
'#8B008B',//purple red
'#FF8C00',//orange
'#8FBC8F',//gray green
'#FFD700',//yellow
'#FFE4E1',//light pink
'#F0E68C',//light khaki
'#808000',//olive green
'#FF6347',//tomato
];

paths=[
[new google.maps.LatLng(40.1154252,-88.2244301), new google.maps.LatLng(40.1154224,-88.224029), new google.maps.LatLng(40.1157994,-88.2240349), new google.maps.LatLng(40.1163947,-88.2240443), new google.maps.LatLng(40.116394,-88.223856), new google.maps.LatLng(40.1164187,-88.2223673), new google.maps.LatLng(40.1164185,-88.2218733), new google.maps.LatLng(40.1164184,-88.221627), new google.maps.LatLng(40.1164183,-88.2214347), new google.maps.LatLng(40.1164183,-88.2213546), new google.maps.LatLng(40.116418,-88.2207149), new google.maps.LatLng(40.1164202,-88.2204564), new google.maps.LatLng(40.116422,-88.220255), new google.maps.LatLng(40.1164228,-88.2201332), new google.maps.LatLng(40.1164275,-88.2193768), new google.maps.LatLng(40.116433,-88.2181843), new google.maps.LatLng(40.11644,-88.217406), new google.maps.LatLng(40.116452,-88.216271), new google.maps.LatLng(40.116446,-88.215722), new google.maps.LatLng(40.116116,-88.215727), new google.maps.LatLng(40.1157947,-88.2157494), new google.maps.LatLng(40.1156645,-88.2157579), new google.maps.LatLng(40.115498,-88.215761), new google.maps.LatLng(40.1153193,-88.2157595), new google.maps.LatLng(40.1152712,-88.2157591), new google.maps.LatLng(40.1151245,-88.2157579), new google.maps.LatLng(40.115097,-88.2157577), new google.maps.LatLng(40.115012,-88.215757), new google.maps.LatLng(40.1148173,-88.2157591), new google.maps.LatLng(40.114197,-88.215766), new google.maps.LatLng(40.1141515,-88.215777), new google.maps.LatLng(40.1140802,-88.2157943), new google.maps.LatLng(40.1139226,-88.2147385), new google.maps.LatLng(40.1138797,-88.2144213), new google.maps.LatLng(40.1136244,-88.2134645), ],
];

var heat_markerList = [];
var heat_latlng_list=[// lat,lng,heat_val
[
[{lat:40.115437,lng:-88.225018},0.111632],
[{lat:40.115438,lng:-88.224933},0.116290],
[{lat:40.115439,lng:-88.224846},0.119952],
[{lat:40.115438,lng:-88.224758},0.092732],
[{lat:40.115438,lng:-88.224671},0.092732],
[{lat:40.115438,lng:-88.224586},0.070179],
[{lat:40.115437,lng:-88.224503},0.069751],
[{lat:40.115436,lng:-88.224425},0.069608],
[{lat:40.115437,lng:-88.224353},0.069466],
[{lat:40.115430,lng:-88.224286},0.069466],
[{lat:40.115428,lng:-88.224221},0.069466],
[{lat:40.115428,lng:-88.224162},0.068759],
[{lat:40.115427,lng:-88.224119},0.067504],
[{lat:40.115427,lng:-88.224086},0.096114],
[{lat:40.115432,lng:-88.224065},0.096114],
[{lat:40.115442,lng:-88.224042},0.147897],
[{lat:40.115459,lng:-88.224017},0.147897],
[{lat:40.115478,lng:-88.223992},0.147897],
[{lat:40.115498,lng:-88.223972},0.164991],
[{lat:40.115523,lng:-88.223957},0.204942],
[{lat:40.115556,lng:-88.223946},0.209636],
[{lat:40.115611,lng:-88.223940},0.157270],
[{lat:40.115678,lng:-88.223936},0.157270],
[{lat:40.115741,lng:-88.223932},0.129792],
[{lat:40.115806,lng:-88.223929},0.147069],
[{lat:40.115869,lng:-88.223928},0.138728],
[{lat:40.115932,lng:-88.223930},0.092917],
[{lat:40.115996,lng:-88.223933},0.092917],
[{lat:40.116058,lng:-88.223935},0.066953],
[{lat:40.116118,lng:-88.223937},0.066953],
[{lat:40.116173,lng:-88.223940},0.066406],
[{lat:40.116220,lng:-88.223943},0.065324],
[{lat:40.116260,lng:-88.223947},0.065324],
[{lat:40.116290,lng:-88.223952},0.063995],
[{lat:40.116248,lng:-88.223942},0.063210],
[{lat:40.116248,lng:-88.223942},0.063340],
[{lat:40.116248,lng:-88.223942},0.063340],
[{lat:40.116248,lng:-88.223942},0.063864],
[{lat:40.116248,lng:-88.223942},0.063864],
[{lat:40.116248,lng:-88.223942},0.062950],
[{lat:40.116248,lng:-88.223942},0.062049],
[{lat:40.116248,lng:-88.223942},0.061413],
[{lat:40.116248,lng:-88.223942},0.061413],
[{lat:40.116248,lng:-88.223942},0.060532],
[{lat:40.116248,lng:-88.223942},0.059787],
[{lat:40.116248,lng:-88.223942},0.059417],
[{lat:40.116248,lng:-88.223942},0.059172],
[{lat:40.116248,lng:-88.223942},0.059172],
[{lat:40.116248,lng:-88.223942},0.059172],
[{lat:40.116248,lng:-88.223942},0.058928],
[{lat:40.116248,lng:-88.223942},0.069182],
[{lat:40.116248,lng:-88.223942},0.069182],
[{lat:40.116248,lng:-88.223942},0.100595],
[{lat:40.116264,lng:-88.223955},0.140046],
[{lat:40.116279,lng:-88.223950},0.158732],
[{lat:40.116297,lng:-88.223938},0.159320],
[{lat:40.116317,lng:-88.223916},0.159320],
[{lat:40.116340,lng:-88.223883},0.217383],
[{lat:40.116357,lng:-88.223837},0.286622],
[{lat:40.116368,lng:-88.223781},0.289325],
[{lat:40.116373,lng:-88.223704},0.297524],
[{lat:40.116377,lng:-88.223610},0.297524],
[{lat:40.116378,lng:-88.223511},0.287071],
[{lat:40.116379,lng:-88.223406},0.274209],
[{lat:40.116380,lng:-88.223296},0.251238],
[{lat:40.116381,lng:-88.223181},0.190653],
[{lat:40.116382,lng:-88.223063},0.190653],
[{lat:40.116381,lng:-88.222943},0.156689],
[{lat:40.116381,lng:-88.222820},0.155531],
[{lat:40.116381,lng:-88.222695},0.155243],
[{lat:40.116381,lng:-88.222569},0.162285],
[{lat:40.116382,lng:-88.222442},0.162285],
[{lat:40.116383,lng:-88.222312},0.169273],
[{lat:40.116382,lng:-88.222180},0.144605],
[{lat:40.116383,lng:-88.222046},0.109901],
[{lat:40.116383,lng:-88.221911},0.101393],
[{lat:40.116383,lng:-88.221775},0.101393],
[{lat:40.116384,lng:-88.221638},0.095543],
[{lat:40.116384,lng:-88.221500},0.082220],
[{lat:40.116385,lng:-88.221362},0.074605],
[{lat:40.116385,lng:-88.221225},0.066406],
[{lat:40.116386,lng:-88.221088},0.066406],
[{lat:40.116386,lng:-88.220954},0.065190],
[{lat:40.116387,lng:-88.220822},0.073550],
[{lat:40.116388,lng:-88.220690},0.081395],
[{lat:40.116388,lng:-88.220559},0.085255],
[{lat:40.116388,lng:-88.220428},0.089637],
[{lat:40.116388,lng:-88.220298},0.089637],
[{lat:40.116388,lng:-88.220167},0.095543],
[{lat:40.116388,lng:-88.220037},0.110763],
[{lat:40.116388,lng:-88.219907},0.139782],
[{lat:40.116388,lng:-88.219776},0.139782],
[{lat:40.116388,lng:-88.219644},0.146518],
[{lat:40.116388,lng:-88.219511},0.140842],
[{lat:40.116387,lng:-88.219378},0.156399],
[{lat:40.116386,lng:-88.219245},0.169892],
[{lat:40.116387,lng:-88.219111},0.169892],
[{lat:40.116388,lng:-88.218975},0.164085],
[{lat:40.116389,lng:-88.218836},0.147621],
[{lat:40.116390,lng:-88.218696},0.123713],
[{lat:40.116392,lng:-88.218554},0.111632],
[{lat:40.116393,lng:-88.218410},0.111632],
[{lat:40.116395,lng:-88.218266},0.100993],
[{lat:40.116397,lng:-88.218120},0.092732],
[{lat:40.116398,lng:-88.217975},0.098040],
[{lat:40.116400,lng:-88.217828},0.101593],
[{lat:40.116401,lng:-88.217682},0.101593],
[{lat:40.116401,lng:-88.217535},0.094222],
[{lat:40.116402,lng:-88.217388},0.085598],
[{lat:40.116402,lng:-88.217244},0.071920],
[{lat:40.116403,lng:-88.217100},0.061794],
[{lat:40.116404,lng:-88.216960},0.061794],
[{lat:40.116405,lng:-88.216823},0.061667],
[{lat:40.116405,lng:-88.216692},0.064923],
[{lat:40.116405,lng:-88.216563},0.065056],
[{lat:40.116406,lng:-88.216437},0.061667],
[{lat:40.116406,lng:-88.216315},0.061667],
[{lat:40.116406,lng:-88.216197},0.061540],
[{lat:40.116405,lng:-88.216084},0.061667],
[{lat:40.116404,lng:-88.215979},0.061667],
[{lat:40.116402,lng:-88.215892},0.061667],
[{lat:40.116401,lng:-88.215827},0.061667],
[{lat:40.116402,lng:-88.215787},0.061034],
[{lat:40.116402,lng:-88.215767},0.059540],
[{lat:40.116402,lng:-88.215758},0.059540],
[{lat:40.116402,lng:-88.215751},0.061667],
[{lat:40.116402,lng:-88.215751},0.070611],
[{lat:40.116402,lng:-88.215751},0.103412],
[{lat:40.116385,lng:-88.215716},0.147069],
[{lat:40.116362,lng:-88.215706},0.147069],
[{lat:40.116330,lng:-88.215706},0.157854],
[{lat:40.116290,lng:-88.215711},0.175224],
[{lat:40.116241,lng:-88.215717},0.170512],
[{lat:40.116184,lng:-88.215721},0.150126],
[{lat:40.116121,lng:-88.215723},0.150126],
[{lat:40.116054,lng:-88.215725},0.124669],
[{lat:40.115983,lng:-88.215729},0.091996],
[{lat:40.115911,lng:-88.215733},0.084572],
[{lat:40.115837,lng:-88.215736},0.084572],
[{lat:40.115762,lng:-88.215738},0.087684],
[{lat:40.115688,lng:-88.215741},0.088390],
[{lat:40.115615,lng:-88.215742},0.073400],
[{lat:40.115539,lng:-88.215742},0.060783],
[{lat:40.115460,lng:-88.215741},0.060783],
[{lat:40.115376,lng:-88.215740},0.061034],
[{lat:40.115290,lng:-88.215742},0.061160],
[{lat:40.115203,lng:-88.215743},0.061286],
[{lat:40.115117,lng:-88.215743},0.061160],
[{lat:40.115031,lng:-88.215743},0.061160],
[{lat:40.114946,lng:-88.215743},0.061160],
[{lat:40.114863,lng:-88.215744},0.061160],
[{lat:40.114781,lng:-88.215743},0.061034],
[{lat:40.114702,lng:-88.215742},0.060908],
[{lat:40.114625,lng:-88.215740},0.060908],
[{lat:40.114549,lng:-88.215738},0.060783],
[{lat:40.114477,lng:-88.215737},0.060657],
[{lat:40.114407,lng:-88.215737},0.060908],
[{lat:40.114341,lng:-88.215738},0.061286],
[{lat:40.114281,lng:-88.215741},0.061286],
[{lat:40.114229,lng:-88.215746},0.061160],
[{lat:40.114188,lng:-88.215753},0.059911],
[{lat:40.114161,lng:-88.215756},0.069751],
[{lat:40.114140,lng:-88.215758},0.109044],
[{lat:40.114119,lng:-88.215755},0.109044],
[{lat:40.114095,lng:-88.215741},0.151533],
[{lat:40.114072,lng:-88.215708},0.189300],
[{lat:40.114053,lng:-88.215661},0.194755],
[{lat:40.114038,lng:-88.215602},0.167733],
[{lat:40.114026,lng:-88.215534},0.167733],
[{lat:40.114016,lng:-88.215458},0.165597],
[{lat:40.114008,lng:-88.215370},0.131289],
[{lat:40.113998,lng:-88.215281},0.109044],
[{lat:40.113987,lng:-88.215187},0.119952],
[{lat:40.113974,lng:-88.215087},0.119952],
[{lat:40.113959,lng:-88.214984},0.119489],
[{lat:40.113943,lng:-88.214880},0.087334],
[{lat:40.113924,lng:-88.214776},0.072213],
[{lat:40.113905,lng:-88.214669},0.078487],
[{lat:40.113885,lng:-88.214562},0.078487],
[{lat:40.113866,lng:-88.214452},0.067642],
[{lat:40.113846,lng:-88.214345},0.058928],
[{lat:40.113827,lng:-88.214238},0.059417],
[{lat:40.113806,lng:-88.214135},0.059295],
[{lat:40.113783,lng:-88.214035},0.059295],
],
];
function gen_icon(color){
   return {
    path: google.maps.SymbolPath.CIRCLE,
    fillColor: color,
    fillOpacity: .5,
    scale: 6,
    strokeColor: color,
    strokeWeight: 1,
    strokeOpacity: .1,
  };
}

function initialize() {  
  for(var i=0; i<color_list.length; i++){
    var dashboard_icon = gen_icon(color_list[i]);
    dashboard_icons.push(dashboard_icon);
  }

  var latlng = paths[0][0]; 
  var myOptions = {
    zoom: 12,
    center: latlng,
    mapTypeId: google.maps.MapTypeId.ROADMAP,
    scaleControl: false,
    streetViewControl: false,
    rotateControl: true,
    gestureHandling: 'greedy' // allow one finger move, otherwise scroll div...
  };
  map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
  bounds = new google.maps.LatLngBounds();
  bound1 = paths[0][0];
  bound3 = paths[0][paths[0].length-1];
  if (paths[paths.length-1][0]) {
    bound2 = paths[paths.length-1][0];
    bound4 = paths[paths.length-1][paths[paths.length-1].length-1];
    bounds.extend(bound2); 
    bounds.extend(bound4);
  }
  bounds.extend(bound1); 
  bounds.extend(bound3); 
  map.fitBounds(bounds);
  showShortestRoute(); 

  for(var i=0; i<heat_latlng_list.length; i++){
    heat_markerList[i]=[];
    var dashboard_icon = dashboard_icons[3];

    for(var j=0; j<heat_latlng_list[i].length; j++){

      var val=heat_latlng_list[i][j][1];
      dashboard_icon.fillOpacity=Math.max(0.04,Math.min(1, val));
      var tmpmarker = new google.maps.Marker({
        map: map,
        clickable: false,
        optimized: false,
        animation: null,
        icon: dashboard_icon,
        position: heat_latlng_list[i][j][0],
        draggable: false,
        visible: true,
      });
      heat_markerList[i].push(tmpmarker);
    }
  }
} 


function showShortestRoute() {

  pathCnt=paths.length;
  var OnlyTwoMarkers=1;
  var AImage="http://www.google.com/mapfiles/marker"+String.fromCharCode('A'.charCodeAt(0))+".png";
  var BImage="http://www.google.com/mapfiles/marker"+String.fromCharCode('B'.charCodeAt(0))+".png";

  for (var i = 0; i < pathCnt; i++) {
      coordinates = paths[i];
      pathList[i] = new google.maps.Polyline({
        path: coordinates,
        strokeColor: color_list[1],
        // strokeColor: color_list[i%color_list.length],// for test 3 routes shown
        strokeOpacity: 0.7, 
        strokeWeight: 6
      });
      pathList[i].setMap(map);
      var startImage="http://www.google.com/mapfiles/marker"+String.fromCharCode('A'.charCodeAt(0)+i%26)+".png";
      markers=[];

      var markersAllTheWay=0;
      if (markersAllTheWay>0){
        for (var j = coordinates.length - 1; j >= 0; j--) {
          var startMarker = new google.maps.Marker({
            position: coordinates[j],
            map: map,
            icon: startImage,
          });
          markers.push(startMarker);
        }; 
      }else{
          if(OnlyTwoMarkers==0){
              var startMarker = new google.maps.Marker({
                position: coordinates[0],
                map: map,
                icon: startImage,
              });
              markers.push(startMarker);
              startMarker = new google.maps.Marker({
                position: coordinates[coordinates.length - 1],
                map: map,
                icon: dashboard_icons[i%dashboard_icons.length],
              });
              markers.push(startMarker);
          }else if(OnlyTwoMarkers>0 && i==0){
              var startMarker = new google.maps.Marker({
                position: coordinates[0],
                map: map,
                icon: AImage,
              });
              markers.push(startMarker);
              var startMarker = new google.maps.Marker({
                position: coordinates[coordinates.length - 1],
                map: map,
                icon: BImage,
              });
              markers.push(startMarker);
          }
      }
      if(OnlyTwoMarkers==0 || (OnlyTwoMarkers>0 && i==0)){
        path_markerList[i]=markers;
      }
  };
  
//   var endImage = "http://www.google.com/mapfiles/markerZ.png";
//   var endLatLng = new google.maps.LatLng(40.088701,-88.218932); // default here.
// ///startinsertpt
//   var endLatLng = new google.maps.LatLng(40.088701,-88.218932);
// ///endinsertpt
//   var endMarker = new google.maps.Marker({
//   position: endLatLng,
//   map: map,
//   icon: endImage
//   });
}


function set_checked_index (ind,checked) {
  if (checked == true) {
    pathList[ind].setMap(map); 
    for (var i = path_markerList[ind].length - 1; i >= 0; i--) {
      path_markerList[ind][i].setMap(map);
    };
    for (var i = heat_markerList[ind].length - 1; i >= 0; i--) {
      heat_markerList[ind][i].setMap(map);
    };
  } else {
    pathList[ind].setMap(null);
    for (var i = path_markerList[ind].length - 1; i >= 0; i--) {
      path_markerList[ind][i].setMap(null);
    }; 
    for (var i = heat_markerList[ind].length - 1; i >= 0; i--) {
      heat_markerList[ind][i].setMap(null);
    };
  }
}

function check0() {
if (myform.chk0.checked == true) {
set_checked_index(0,true); }else{
set_checked_index(0,false);}}


</script>

</head>
<body onload="initialize()" onunload="GUnload()">

<form name="myform" action="" method=post>

<div id="map_canvas" style="width: 87%; height: 100%; float:left;"></div>

<div id="routeChoice" style="width: 12%; height: 100%; float:right;">


<input name="chk0" type=checkbox checked onClick="check0()"> <b><span style="color:blue">Path</span></b> <br/>


<p>Gas (grams): 89.1</p>
<p>Distance (m): 1299</p>
<p>Time (s): 183</p>

</div>

</form>

</body>
</html>