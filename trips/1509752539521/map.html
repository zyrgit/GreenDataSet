
<html>
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- <title>start</title> -->
<title>test</title>
<!-- <title>end</title> -->
<script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?sensor=false"> </script>
<script type="text/javascript">

var map = null;
var pathList = [];
var path_markerList = [];
var coordinates,paths;
var pathCnt=0;
var dashboard_icons=[];
var color_list=[ // css style.
'#7CFC00',// lawn green
'#0000FF',// dark blue
'#A52A2A',// dark brown
'#DC143C',//dark red
'#8A2BE2',//purple
'#7FFFD4',// blue green
'#FF1493',//pink
'#00FFFF',// light blue
'#FA8072',// salmon pink
'#6B8E23',//gray green
'#D2691E',//chocolate
'#EE82EE',//light pink
'#DAA520',//dark yellow
'#7FFF00',// light green
'#5F9EA0',//gray blue
'#006400',//dark green
'#BDB76B',//khaki
'#6A5ACD',// purple blue
'#8B008B',//purple red
'#FF8C00',//orange
'#8FBC8F',//gray green
'#FFD700',//yellow
'#FFE4E1',//light pink
'#F0E68C',//light khaki
'#808000',//olive green
'#FF6347',//tomato
];

paths=[
[new google.maps.LatLng(40.1114914,-88.2313592), new google.maps.LatLng(40.1114889,-88.2316375), new google.maps.LatLng(40.1114859,-88.2319659), new google.maps.LatLng(40.111485,-88.232064), new google.maps.LatLng(40.1114837,-88.2321817), new google.maps.LatLng(40.1114773,-88.2327804), new google.maps.LatLng(40.1114742,-88.2330183), new google.maps.LatLng(40.111467,-88.2334454), new google.maps.LatLng(40.1114672,-88.2335678), new google.maps.LatLng(40.1115545,-88.2335696), new google.maps.LatLng(40.1122694,-88.2335839), new google.maps.LatLng(40.1123333,-88.2335851), new google.maps.LatLng(40.112676,-88.233592), new google.maps.LatLng(40.112878,-88.233579), new google.maps.LatLng(40.1129877,-88.2335559), new google.maps.LatLng(40.113151,-88.233509), new google.maps.LatLng(40.1133824,-88.2335112), new google.maps.LatLng(40.113469,-88.233512), new google.maps.LatLng(40.1134651,-88.2343326), new google.maps.LatLng(40.1136577,-88.2343352), new google.maps.LatLng(40.1136597,-88.2337634), new google.maps.LatLng(40.1138109,-88.2337634), ],
];

var heat_markerList = [];
var heat_latlng_list=[// lat,lng,heat_val
[
[{lat:40.111541,lng:-88.230779},0.225335],
[{lat:40.111536,lng:-88.230871},0.225719],
[{lat:40.111540,lng:-88.230958},0.211462],
[{lat:40.111518,lng:-88.231067},0.166510],
[{lat:40.111532,lng:-88.231191},0.126115],
[{lat:40.111554,lng:-88.231350},0.104435],
[{lat:40.111552,lng:-88.231470},0.066542],
[{lat:40.111552,lng:-88.231547},0.064790],
[{lat:40.111630,lng:-88.231590},0.060159],
[{lat:40.111603,lng:-88.231631},0.057602],
[{lat:40.111576,lng:-88.231712},0.057721],
[{lat:40.111588,lng:-88.231775},0.057364],
[{lat:40.111579,lng:-88.231802},0.062305],
[{lat:40.111578,lng:-88.231839},0.066542],
[{lat:40.111579,lng:-88.231872},0.066953],
[{lat:40.111568,lng:-88.231904},0.065998],
[{lat:40.111562,lng:-88.231915},0.101193],
[{lat:40.111563,lng:-88.231933},0.329664],
[{lat:40.111576,lng:-88.231956},0.403980],
[{lat:40.111575,lng:-88.232042},0.334049],
[{lat:40.111568,lng:-88.232158},0.495606],
[{lat:40.111544,lng:-88.232278},0.458895],
[{lat:40.111545,lng:-88.232357},0.212931],
[{lat:40.111552,lng:-88.232447},0.186617],
[{lat:40.111563,lng:-88.232523},0.169273],
[{lat:40.111545,lng:-88.232627},0.241046],
[{lat:40.111573,lng:-88.232692},0.141909],
[{lat:40.111562,lng:-88.232815},0.131539],
[{lat:40.111542,lng:-88.232933},0.081231],
[{lat:40.111548,lng:-88.233023},0.065593],
[{lat:40.111544,lng:-88.233121},0.062305],
[{lat:40.111537,lng:-88.233193},0.059417],
[{lat:40.111537,lng:-88.233263},0.058685],
[{lat:40.111529,lng:-88.233324},0.058443],
[{lat:40.111551,lng:-88.233344},0.059911],
[{lat:40.111570,lng:-88.233373},0.063733],
[{lat:40.111560,lng:-88.233399},0.066134],
[{lat:40.111534,lng:-88.233415},0.065593],
[{lat:40.111483,lng:-88.233430},0.069041],
[{lat:40.111544,lng:-88.233456},0.067642],
[{lat:40.111581,lng:-88.233475},0.061794],
[{lat:40.111595,lng:-88.233487},0.060407],
[{lat:40.111614,lng:-88.233502},0.060908],
[{lat:40.111622,lng:-88.233508},0.060657],
[{lat:40.111637,lng:-88.233519},0.060532],
[{lat:40.111648,lng:-88.233528},0.061160],
[{lat:40.111649,lng:-88.233536},0.061413],
[{lat:40.111655,lng:-88.233535},0.088213],
[{lat:40.111656,lng:-88.233539},0.091264],
[{lat:40.111651,lng:-88.233551},0.075061],
[{lat:40.111649,lng:-88.233551},0.066269],
[{lat:40.111662,lng:-88.233553},0.065056],
[{lat:40.111669,lng:-88.233557},0.077538],
[{lat:40.111676,lng:-88.233559},0.247536],
[{lat:40.111679,lng:-88.233566},0.302600],
[{lat:40.111689,lng:-88.233588},0.520313],
[{lat:40.111713,lng:-88.233612},0.468730],
[{lat:40.111745,lng:-88.233632},0.262137],
[{lat:40.111819,lng:-88.233626},0.145150],
[{lat:40.111867,lng:-88.233619},0.141108],
[{lat:40.111922,lng:-88.233612},0.134837],
[{lat:40.111982,lng:-88.233605},0.179391],
[{lat:40.112038,lng:-88.233600},0.180363],
[{lat:40.112097,lng:-88.233598},0.091264],
[{lat:40.112158,lng:-88.233598},0.076445],
[{lat:40.112202,lng:-88.233594},0.069182],
[{lat:40.112248,lng:-88.233589},0.064657],
[{lat:40.112288,lng:-88.233581},0.060783],
[{lat:40.112325,lng:-88.233574},0.059050],
[{lat:40.112355,lng:-88.233569},0.059911],
[{lat:40.112383,lng:-88.233570},0.060532],
[{lat:40.112405,lng:-88.233574},0.063080],
[{lat:40.112422,lng:-88.233575},0.064524],
[{lat:40.112434,lng:-88.233573},0.064127],
[{lat:40.112443,lng:-88.233574},0.083221],
[{lat:40.112456,lng:-88.233574},0.158732],
[{lat:40.112474,lng:-88.233571},0.244683],
[{lat:40.112504,lng:-88.233570},0.149287],
[{lat:40.112538,lng:-88.233570},0.136641],
[{lat:40.112575,lng:-88.233569},0.747105],
[{lat:40.112638,lng:-88.233567},0.699251],
[{lat:40.112730,lng:-88.233563},0.955431],
[{lat:40.112823,lng:-88.233558},0.765326],
[{lat:40.112911,lng:-88.233552},0.696471],
[{lat:40.113006,lng:-88.233544},0.449092],
[{lat:40.113110,lng:-88.233532},0.104230],
[{lat:40.113207,lng:-88.233525},0.060283],
[{lat:40.113292,lng:-88.233519},0.060657],
[{lat:40.113366,lng:-88.233519},0.063340],
[{lat:40.113424,lng:-88.233526},0.060034],
[{lat:40.113464,lng:-88.233538},0.110980],
[{lat:40.113502,lng:-88.233571},0.296607],
[{lat:40.113530,lng:-88.233630},0.650132],
[{lat:40.113538,lng:-88.233717},0.565537],
[{lat:40.113536,lng:-88.233815},0.453989],
[{lat:40.113526,lng:-88.233914},0.171135],
[{lat:40.113522,lng:-88.234020},0.065998],
[{lat:40.113518,lng:-88.234109},0.064923],
[{lat:40.113518,lng:-88.234206},0.061034],
[{lat:40.113532,lng:-88.234270},0.058081],
[{lat:40.113545,lng:-88.234335},0.058201],
[{lat:40.113587,lng:-88.234370},0.177458],
[{lat:40.113636,lng:-88.234379},0.217010],
[{lat:40.113678,lng:-88.234358},0.078169],
[{lat:40.113707,lng:-88.234316},0.061794],
],
];
function gen_icon(color){
   return {
    path: google.maps.SymbolPath.CIRCLE,
    fillColor: color,
    fillOpacity: .5,
    scale: 6,
    strokeColor: color,
    strokeWeight: 1,
    strokeOpacity: .1,
  };
}

function initialize() {  
  for(var i=0; i<color_list.length; i++){
    var dashboard_icon = gen_icon(color_list[i]);
    dashboard_icons.push(dashboard_icon);
  }

  var latlng = paths[0][0]; 
  var myOptions = {
    zoom: 12,
    center: latlng,
    mapTypeId: google.maps.MapTypeId.ROADMAP,
    scaleControl: false,
    streetViewControl: false,
    rotateControl: true,
    gestureHandling: 'greedy' // allow one finger move, otherwise scroll div...
  };
  map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
  bounds = new google.maps.LatLngBounds();
  bound1 = paths[0][0];
  bound3 = paths[0][paths[0].length-1];
  if (paths[paths.length-1][0]) {
    bound2 = paths[paths.length-1][0];
    bound4 = paths[paths.length-1][paths[paths.length-1].length-1];
    bounds.extend(bound2); 
    bounds.extend(bound4);
  }
  bounds.extend(bound1); 
  bounds.extend(bound3); 
  map.fitBounds(bounds);
  showShortestRoute(); 

  for(var i=0; i<heat_latlng_list.length; i++){
    heat_markerList[i]=[];
    var dashboard_icon = dashboard_icons[3];

    for(var j=0; j<heat_latlng_list[i].length; j++){

      var val=heat_latlng_list[i][j][1];
      dashboard_icon.fillOpacity=Math.max(0.04,Math.min(1, val));
      var tmpmarker = new google.maps.Marker({
        map: map,
        clickable: false,
        optimized: false,
        animation: null,
        icon: dashboard_icon,
        position: heat_latlng_list[i][j][0],
        draggable: false,
        visible: true,
      });
      heat_markerList[i].push(tmpmarker);
    }
  }
} 


function showShortestRoute() {

  pathCnt=paths.length;
  var OnlyTwoMarkers=1;
  var AImage="http://www.google.com/mapfiles/marker"+String.fromCharCode('A'.charCodeAt(0))+".png";
  var BImage="http://www.google.com/mapfiles/marker"+String.fromCharCode('B'.charCodeAt(0))+".png";

  for (var i = 0; i < pathCnt; i++) {
      coordinates = paths[i];
      pathList[i] = new google.maps.Polyline({
        path: coordinates,
        strokeColor: color_list[1],
        // strokeColor: color_list[i%color_list.length],// for test 3 routes shown
        strokeOpacity: 0.7, 
        strokeWeight: 6
      });
      pathList[i].setMap(map);
      var startImage="http://www.google.com/mapfiles/marker"+String.fromCharCode('A'.charCodeAt(0)+i%26)+".png";
      markers=[];

      var markersAllTheWay=0;
      if (markersAllTheWay>0){
        for (var j = coordinates.length - 1; j >= 0; j--) {
          var startMarker = new google.maps.Marker({
            position: coordinates[j],
            map: map,
            icon: startImage,
          });
          markers.push(startMarker);
        }; 
      }else{
          if(OnlyTwoMarkers==0){
              var startMarker = new google.maps.Marker({
                position: coordinates[0],
                map: map,
                icon: startImage,
              });
              markers.push(startMarker);
              startMarker = new google.maps.Marker({
                position: coordinates[coordinates.length - 1],
                map: map,
                icon: dashboard_icons[i%dashboard_icons.length],
              });
              markers.push(startMarker);
          }else if(OnlyTwoMarkers>0 && i==0){
              var startMarker = new google.maps.Marker({
                position: coordinates[0],
                map: map,
                icon: AImage,
              });
              markers.push(startMarker);
              var startMarker = new google.maps.Marker({
                position: coordinates[coordinates.length - 1],
                map: map,
                icon: BImage,
              });
              markers.push(startMarker);
          }
      }
      if(OnlyTwoMarkers==0 || (OnlyTwoMarkers>0 && i==0)){
        path_markerList[i]=markers;
      }
  };
  
//   var endImage = "http://www.google.com/mapfiles/markerZ.png";
//   var endLatLng = new google.maps.LatLng(40.088701,-88.218932); // default here.
// ///startinsertpt
//   var endLatLng = new google.maps.LatLng(40.088701,-88.218932);
// ///endinsertpt
//   var endMarker = new google.maps.Marker({
//   position: endLatLng,
//   map: map,
//   icon: endImage
//   });
}


function set_checked_index (ind,checked) {
  if (checked == true) {
    pathList[ind].setMap(map); 
    for (var i = path_markerList[ind].length - 1; i >= 0; i--) {
      path_markerList[ind][i].setMap(map);
    };
    for (var i = heat_markerList[ind].length - 1; i >= 0; i--) {
      heat_markerList[ind][i].setMap(map);
    };
  } else {
    pathList[ind].setMap(null);
    for (var i = path_markerList[ind].length - 1; i >= 0; i--) {
      path_markerList[ind][i].setMap(null);
    }; 
    for (var i = heat_markerList[ind].length - 1; i >= 0; i--) {
      heat_markerList[ind][i].setMap(null);
    };
  }
}

function check0() {
if (myform.chk0.checked == true) {
set_checked_index(0,true); }else{
set_checked_index(0,false);}}


</script>

</head>
<body onload="initialize()" onunload="GUnload()">

<form name="myform" action="" method=post>

<div id="map_canvas" style="width: 87%; height: 100%; float:left;"></div>

<div id="routeChoice" style="width: 12%; height: 100%; float:right;">


<input name="chk0" type=checkbox checked onClick="check0()"> <b><span style="color:blue">Path</span></b> <br/>


<p>Gas (grams): 67.8</p>
<p>Distance (m): 566</p>
<p>Time (s): 104</p>

</div>

</form>

</body>
</html>